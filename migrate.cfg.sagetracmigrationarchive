# Sample configuration file, update to meet your needs

[source]

# URL of the XML-RPC trac endpoint
# unauthenticated works for globally readable trac instances
url: https://trac.sagemath.org/xmlrpc

# authentication broken with python3.8 or later, due to
# https://github.com/python/cpython/issues/82219
# url: http://username:password@example.com/trac/login/xmlrpc

# optional path to trac instance used to convert some attachments
path: sage_trac

# optional prefix used for Trac milestones
milestone_prefix: sage-

# optional url for cgit repository access
cgit_url: https://git.sagemath.org/sage.git/

# if no, a trac ticket reference is converted to the corresponding issue reference
keep_trac_ticket_references: no

[issues]

# Should we migrate the issues (default = yes)
migrate: yes

# If defined, import only these issues
# only_issues: [ 30000, 30001 ]
#only_issues: [5601,]

# If defined, do not import these issues
# blacklist_issues: [ 268, 843 ]

# If defined, then this is added to the ticket query string to trac
#filter_issues: max=50&order=id&page=1&desc=False
#filter_issues: max=2796&order=id&page=2

# Add a label to all migrated issues
# add_label: Websites

# Keywords to migrate to labels (all others go to the issue description)
keywords_to_labels: {'beginner': 'good first issue'}

# Migrate milestones
migrate_milestones: yes

# Map for certain Trac milestones to GitHub labels
milestones_to_labels = {
 'sage-duplicate/invalid/wontfix': 'duplicate/invalid/wontfix',
 'sage-duplicate/invalid': 'duplicate/invalid/wontfix',
 'sage-duplicate': 'duplicate/invalid/wontfix',
 'sage-wait': 'pending',
 'sage-pending': 'pending',
 'sage-feature': 'feature',
 'sage-wishlist': 'wishlist item',
 'sage-combinat': 'component: combinatorics',
 'sage-symbolics': 'component: symbolics',
 'sage-i18n': 'component: translations'}

# Map for canceld Trac milestones to GitHub milestones
canceled_milestones = {
 'sage-2.8.4.3': 'sage-2.8.5',
 'sage-3.2.4': 'sage-3.3',
 'sage-4.0.3': 'sage-4.1',
 'sage-4.1.3': 'sage-4.2',
 'sage-4.4.5': 'sage-4.5',
 'sage-4.7.3': 'sage-4.8',
 'sage-6.11': 'sage-7.0',
 'sage-7.7': 'sage-8.0'}

# Map for certain Trac components to GitHub labels
components_to_labels = {
 'solaris': 'component: porting: solaris',
 'cygwin': 'component: porting: cygwin',
 'freebsd': 'component: porting: bsd',
 'aix or hp-ux ports': 'component: porting: aix or hp-ux',
 'experimental package': 'component: packages: experimental',
 'optional packages': 'component: packages: optional',
 'packages': 'component: packages: standard',
 'plotting': 'component: graphics',
 'sage-check': 'component: spkg-check',
 # Tiny components, merge into something larger
 'linbox': 'component: packages: standard',
 'givaro': 'component: packages: standard',
 # No "component: " prefix for these:
 'doctest': 'doctest coverage',
 'doctests': 'doctest coverage',
 'doctest coverage': 'doctest coverage',
 'performance': 'performance',
 'refactoring': 'refactoring',
 # Suppress
 'misc': None}

# Colors for labels by label name or label category
label_colors = {
 'component': '0000ff',
 'component: documentation': '0075ca',
 'component: translations': '0075ca',
 'component: website/wiki': '0075ca',
 'component: python3': '000080',
 'component: build': '000080',
 'component: build: configure': '000080',
 'component: c lib': '000080',
 'component: cython': '000080',
 'component: distribution': '000080',
 'component: docker': '000080',
 'component: doctest framework': '000080',
 'component: memleak': '000080',
 'component: notebook': '000080',
 'component: packages': '000080',
 'component: packages: optional': '000080',
 'component: packages: standard': '000080',
 'component: packages: experimental': '000080',
 'component: packages: huge': '000080',
 'component: performance': '000080',
 'component: pickling': '000080',
 'component: porting': '000080',
 'component: porting: bsd': '000080',
 'component: porting: solaris': '000080',
 'component: porting: cygwin': '000080',
 'component: porting: aix or hp-ux': '000080',
 'component: python3': '000080',
 'component: refactoring': '000080',
 'component: relocation': '000080',
 'component: scripts': '000080',
 'component: spkg-check': '000080',
 'component: user interface': '000080',
 'needs work': 'ffff00',
 'needs info': 'ffff00',
 'needs review': '7fff00',
 'positive review': 'dfffc0',
 'help wanted': '008672',
 'p1 \u2013 blocker': 'ff0000',
 'p2 \u2013 critical': 'ff7700',
 'p3 \u2013 major': 'ffbb00',
 'p4 \u2013 minor': 'ffe799',
 'p5 \u2013 trivial': 'fff9e5',
 'wishlist item': 'e81ff9',
 'good first issue': '7057ff',
 'bug': 'd73a4a',
 'enhancement': '696969',
 'performance': '696969',
 'refactoring': '696969',
 'doctest coverage': '696969',
 'resolution': 'a6a6a6'}

[attachments]

# Export attachement as files to the local filesystem or try to upload them as Gist?
# Gist only allows text files, so binary attachments will be lost
# Gists are associated with the GitHub user, not the project
export : yes

# https://github.github.com/enterprise-migrations/#/./2.1-export-archive-format?id=attachment
export_dir = archive/attachments
# export_url is configured automatically based on issues_repo_url

[wiki]

migrate : no

#url: https://github.com/sagemath/sage/wiki
url: https://github.com/sagemath/trac_to_gh/wiki

export_dir: wiki

[target]

# URL of the GitHub web API (default: https://api.github.com)
# url: https://api.github.com

# repo of all issues converted from trac tickets
issues_repo_url: https://github.com/sagemath/sage

# git repo with all branches
git_repo_url: https://github.com/sagemath/sagetrac-mirror

# project's path
project_name: sagemath/sage

# GitHub access token
#token : 2190valkrl123c

# GitHub username (if no token specified)
#username: johndoe

# GitHub password (if no token specified)
#password: secret

# optional prefix used for GitHub milestones
milestone_prefix: sage-

# Where to write a migration archive
migration_archive: archive

# Trac to GitHub user mappings
username_modules = ['contributors_from_sage_trac_users',
                    'contributors_from_sage_developer_map']
usernames = {
 'git': 'sagetrac-git',
 'vbraun_spam': 'sagetrac-vbraun-spam',
 'galois': 'sagetrac-gitlab-bot',
 'github': 'sagetrac-github-bot',
 'fhivert': 'hivert',
 'wstein': 'williamstein'}

unknown_users_prefix: sagetrac-
